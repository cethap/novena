<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Novena de Aguinaldos</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #fdfbf7;
            /* Crema suave */
            touch-action: manipulation;
            /* Disables double-tap to zoom */
        }

        h1,
        h2,
        h3,
        .serif {
            font-family: 'Merriweather', serif;
        }

        .prayer-text {
            line-height: 1.8;
            font-size: 1.1rem;
            color: #374151;
        }

        .nav-item.active {
            background-color: #b91c1c;
            /* Rojo navidad */
            color: white;
        }

        /* Animaciones suaves */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scrollbar personalizado */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }

        /* Estilos de imagen */
        .card-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            object-position: top;
        }

        @media (min-width: 768px) {
            .card-image {
                width: 68%;
            }
        }

        .container-image {
            border-bottom: 4px solid #ea580c;
        }

        /* Efecto "Dulce" en las im√°genes */
        .sweet-filter {
            filter: contrast(1.1) saturate(1.1);
        }

        /* --- TEMAS (Night Mode / High Contrast) --- */

        /* Night Mode */
        body.night-mode {
            background-color: #1f2937;
            /* gray-800 */
            color: #fff;
            /* gray-200 */
        }

        .night-mode #sidebar {
            background-color: #111827;
            /* gray-900 */
            border-right-color: #374151;
            /* gray-700 */
        }

        .night-mode .sidebar-title {
            color: #d1d5db;
            /* gray-300 */
        }

        .night-mode .nav-btn:hover {
            background-color: #374151;
            /* gray-700 */
        }

        .night-mode .nav-btn.active {
            background-color: #7f1d1d;
            /* red-900 */
            color: #fca5a5;
            /* red-200 */
        }

        .night-mode .bg-white {
            background-color: #1f2937;
            /* gray-800 */
            color: #fff;
            border-color: #374151;
        }

        .night-mode h1,
        .night-mode h2,
        .night-mode h3,
        .night-mode h4 {
            color: #f3f4f6;
            /* gray-100 */
        }

        .night-mode .text-gray-600,
        .night-mode .text-gray-700,
        .night-mode .text-gray-800 {
            color: #fff;
            /* gray-300 */
        }

        .night-mode .bg-green-900 {
            background-color: #111827;
        }

        .night-mode .bg-red-700 {
            background-color: #7f1d1d;
        }

        /* Darker red header */
        .night-mode .bg-red-100 {
            background-color: #3f1d1d;
            color: #fecaca;
            border-color: #7f1d1d;
        }

        .night-mode .text-red-900,
        .night-mode .text-red-800 {
            color: #fecaca;
        }

        .night-mode .bg-yellow-50 {
            background-color: #422006;
            border-color: #713f12;
            color: #fde047;
        }

        .night-mode .text-yellow-700 {
            color: #fde047;
        }

        .night-mode .day-btn:hover {
            background-color: #374151;
            border-color: #4b5563;
        }

        /* Night Mode Fixes for Prayer Cards (Contrast) */
        .night-mode .bg-white-50,
        .night-mode .bg-gray-50 {
            background-color: #1f2937;
            /* gray-800 */
            border-width: 1px;
            border-color: #374151;
        }

        .night-mode .text-green-800,
        .night-mode .text-green-700,
        .night-mode .group-hover\:text-green-700:hover {
            color: #86efac;
            /* green-300 */
        }

        .night-mode .text-blue-700,
        .night-mode .text-blue-800 {
            color: #93c5fd;
            /* blue-300 */
        }

        /* Unify borders in dark mode to avoid jarring light borders */
        .night-mode .border-red-200,
        .night-mode .border-blue-200,
        .night-mode .border-yellow-200,
        .night-mode .border-green-200 {
            border-color: #374151;
            /* gray-700 */
        }

        /* High Contrast Mode */

        .night-mode p {
            color: #fff;
        }

        .night-mode .text-yellow-700 {
            color: #fde047;
        }

        .night-mode .day-btn:hover {
            background-color: #374151;
            border-color: #4b5563;
        }

        /* High Contrast Mode */
        body.high-contrast {
            background-color: #000000;
            color: #ffffff;
        }

        .high-contrast #sidebar,
        .high-contrast header {
            background-color: #000000;
            border: 2px solid #ffff00;
        }

        .high-contrast .nav-btn {
            background-color: #000000;
            color: #ffffff;
            border: 1px solid #ffffff;
            margin-bottom: 2px;
        }

        .high-contrast .nav-btn:hover,
        .high-contrast .nav-btn.active {
            background-color: #ffff00;
            color: #000000;
            font-weight: bold;
        }

        .high-contrast .nav-btn:hover span,
        .high-contrast .nav-btn.active span {
            color: #000 !important;
        }

        .high-contrast .nav-btn:hover svg,
        .high-contrast .nav-btn.active svg {
            stroke: #000 !important;
        }


        .high-contrast .bg-white,
        .high-contrast .bg-red-100,
        .high-contrast .bg-yellow-50,
        .high-contrast .bg-white-50,
        .high-contrast .bg-gray-50 {
            background-color: #000000;
            border: 4px solid #ffffff;
            color: #ffffff;
        }

        .high-contrast h1,
        .high-contrast h2,
        .high-contrast h3,
        .high-contrast h4,
        .high-contrast p,
        .high-contrast span,
        .high-contrast div {
            color: #ffffff !important;
        }

        .high-contrast .text-yellow-500 {
            color: #ffff00 !important;
        }

        .high-contrast .text-green-600,
        .high-contrast .text-red-700,
        .high-contrast .text-gray-600 {
            color: #ffffff !important;
        }

        .high-contrast button {
            border: 2px solid #ffff00;
        }

        .high-contrast svg {
            stroke: #ffff00;
        }
    </style>
</head>

<body class="flex min-h-screen text-gray-800">

    <!-- Sidebar / Men√∫ de Navegaci√≥n -->
    <aside id="sidebar"
        class="bg-green-900 text-white w-20 flex-shrink-0 hidden md:flex flex-col h-full transition-all duration-300 transform md:translate-x-0 fixed md:sticky md:top-0 md:h-screen z-20 border-r-4 border-yellow-500">
        <div
            class="p-4 border-b border-green-800 bg-green-950 sticky top-0 z-10 flex items-center justify-between h-16">
            <h1
                class="text-xl font-bold text-yellow-400 serif hidden sidebar-title transition-opacity duration-300 truncate">
                Novena</h1>
            <button onclick="toggleDesktopSidebar()"
                class="p-2 text-yellow-400 hover:text-yellow-200 focus:outline-none mx-auto" id="desktop-toggle-btn">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>

        <nav class="flex-1 py-4 overflow-y-auto custom-scrollbar">
            <button onclick="renderView('inicio')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors active"
                data-target="inicio">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">Inicio / Orden</span>
            </button>

            <div
                class="px-6 py-2 text-xs font-semibold text-green-300 uppercase tracking-wider mt-4 nav-text hidden whitespace-nowrap">
                Oraciones Diarias
            </div>

            <button onclick="renderView('todos-dias')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="todos-dias">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z" />
                    <path
                        d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z" />
                    <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0" />
                    <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5" />
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">Todos los D√≠as</span>
            </button>
            <button onclick="renderView('consideraciones')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="consideraciones">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M8 2v4" />
                    <path d="M16 2v4" />
                    <path d="M3 10h18" />
                    <path d="M5 4h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z" />
                </svg>
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">Consideraciones</span>
            </button>
            <button onclick="renderView('virgen')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="virgen">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
                </svg>
                </svg>
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">A la Virgen</span>
            </button>
            <button onclick="renderView('san-jose')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="san-jose">
                <!-- Icono de Martillo (Carpintero) para San Jos√© -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9" />
                    <path d="M17.64 15 22 10.64" />
                    <path d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25V7h-3.25c-.85 0-1.65-.33-2.25-.93L12 4.86" />
                </svg>
                </svg>
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">A San Jos√©</span>
            </button>
            <button onclick="renderView('gozos')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="gozos">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10" />
                    <path d="m9 12 2 2 4-4" />
                </svg>
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">Gozos</span>
            </button>
            <button onclick="renderView('nino-jesus')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="nino-jesus">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                </svg>
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">Ni√±o Jes√∫s</span>
            </button>
            <button onclick="renderView('villancicos')"
                class="nav-btn w-full text-left px-6 py-4 hover:bg-green-800 flex items-center space-x-3 transition-colors"
                data-target="villancicos">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 18V5l12-2v13" />
                    <circle cx="6" cy="18" r="3" />
                    <circle cx="18" cy="16" r="3" />
                </svg>
                </svg>
                <span class="nav-text hidden whitespace-nowrap text-lg">Villancicos</span>
            </button>
        </nav>

        <!-- Selector de Tema (Sticky Footer) -->
        <div class="p-4 border-t border-green-800 bg-green-950 flex-shrink-0">
            <div
                class="text-xs font-bold text-green-300 uppercase tracking-wider mb-3 nav-text hidden whitespace-nowrap">
                Apariencia</div>
            <div id="theme-btn-container" class="flex items-center justify-around space-x-2">
                <button onclick="setTheme('normal')"
                    class="flex-1 flex flex-col items-center justify-center p-3 rounded-lg bg-green-900/50 hover:bg-green-800 border border-green-800 transition-all text-green-100"
                    title="Normal">
                    <span class="text-2xl mb-1">‚òÄÔ∏è</span>
                    <span class="text-xs font-semibold nav-text hidden">Normal</span>
                </button>
                <button onclick="setTheme('night')"
                    class="flex-1 flex flex-col items-center justify-center p-3 rounded-lg bg-green-900/50 hover:bg-green-800 border border-green-800 transition-all text-green-100"
                    title="Modo Noche">
                    <span class="text-2xl mb-1">üåô</span>
                    <span class="text-xs font-semibold nav-text hidden">Noche</span>
                </button>
                <button onclick="setTheme('high-contrast')"
                    class="flex-1 flex flex-col items-center justify-center p-3 rounded-lg bg-green-900/50 hover:bg-green-800 border border-green-800 transition-all text-green-100"
                    title="Alto Contraste">
                    <span class="text-2xl mb-1">üëÅÔ∏è</span>
                    <span class="text-xs font-semibold nav-text hidden">Alto C.</span>
                </button>
            </div>
        </div>
    </aside>

    <!-- Overlay para m√≥vil -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-10 hidden" onclick="toggleSidebar()"></div>

    <!-- Contenido Principal -->
    <main class="flex-1 flex flex-col relative">

        <!-- Header M√≥vil -->
        <header
            class="bg-red-700 text-white p-4 flex items-center justify-between md:hidden shadow-md z-20 sticky top-0">
            <h1 class="font-bold text-lg serif">Novena de Aguinaldos</h1>
            <button onclick="toggleSidebar()" class="p-2 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </header>

        <!-- √Årea de Contenido Din√°mico -->
        <div id="content-area" class="flex-1 p-4 md:p-8 lg:p-12 pb-24 max-w-4xl mx-auto w-full">
            <!-- El contenido se inyectar√° aqu√≠ con JS -->
        </div>

    </main>

    <!-- Watermark -->
    <div class="fixed bottom-1 right-2 md:bottom-2 md:right-4 z-50 pointer-events-none opacity-60">
        <p class="text-[10px] md:text-xs text-gray-500 font-serif italic text-shadow-sm">Hecho con amor por la familia
            Tapasco Zu√±iga</p>
    </div>

    <!-- JavaScript Principal -->
    <script>
        // --- BASE DE DATOS DE CONTENIDO ---

        // IM√ÅGENES SELECCIONADAS (Tema: Cali Dulce Navidad)
        const IMAGES = {
            // Macetas de Alfe√±ique: El dulce m√°s tierno y tradicional de Cali.
            intro: "./oracion-todos-los-dias.png",

            hollyFamily: "./holly-family.png",

            // Alumbrado de Cali: Luces que parecen dulces gigantes.
            virgen: "./virgen-maria.png",

            // San Jos√© y el Ni√±o: Imagen cl√°sica tierna (Guido Reni) - Reemplaza a Cristo Rey
            sanJose: "./san-jose-bunuelo.png",

            // Pesebre Tierno: Representaci√≥n cl√°sica.
            nino: "./bebe-jesus.png",

            // El Gato del R√≠o: √çcono l√∫dico y tierno de Cali.
            gozos: "./gozos.png",

            // La Ermita: La iglesia            // Villancicos: Alegr√≠a musical.
            villancicos: "./villancicos.png",

            // Familia
            family: "./family-1.png",
            family2: "./family-2.png",
            family3: "./family-3.png"
        };

        const DATA = {
            oracionTodosDias: {
                titulo: "Oraci√≥n para Todos los D√≠as",
                imagen: IMAGES.intro,
                texto: `<p class="mb-4">Benign√≠simo Dios de infinita caridad, que tanto amasteis a los hombres, que les disteis en vuestro Hijo la mejor prenda de vuestro amor, para que hecho hombre en las entra√±as de una Virgen naciese en un pesebre para nuestra salud y remedio; yo, en nombre de todos los mortales, os doy infinitas gracias por tan soberano beneficio.</p>
                <p class="mb-4">En retorno de √©l os ofrezco la pobreza, humildad y dem√°s virtudes de vuestro Hijo humanado, suplic√°ndoos por sus divinos m√©ritos, por las incomodidades en que naci√≥ y por las tiernas l√°grimas que derram√≥ en el pesebre, que dispong√°is nuestros corazones con humildad profunda, con amor encendido, con tal desprecio de todo lo terreno, para que Jes√∫s reci√©n nacido tenga en ellos su cuna y more eternamente.</p>
                <p>Am√©n.</p>
                <p class="mt-4 text-center italic text-sm text-gray-600">(Se reza tres veces el Gloria al Padre)</p>`
            },
            oracionVirgen: {
                titulo: "Oraci√≥n a la Sant√≠sima Virgen",
                imagen: IMAGES.virgen,
                texto: `<p class="mb-4">Soberana Mar√≠a, que por vuestras grandes virtudes y especialmente por vuestra humildad, merecisteis que todo un Dios os escogiese por madre suya, os suplico que vos misma prepar√©is y dispong√°is mi alma y la de todos los que en este tiempo hiciesen esta novena, para el nacimiento espiritual de vuestro adorado Hijo.</p>
                <p class="mb-4">¬°Oh dulc√≠sima madre!, comunicadme algo del profundo recogimiento y divina ternura con que lo aguardasteis vos, para que nos hag√°is menos indignos de verle, amarle y adorarle por toda la eternidad.</p>
                <p>Am√©n.</p>
                <p class="mt-4 text-center italic text-sm text-gray-600">(Se reza nueve veces el Avemar√≠a)</p>`
            },
            oracionSanJose: {
                titulo: "Oraci√≥n a San Jos√©",
                imagen: IMAGES.sanJose,
                texto: `<p class="mb-4">¬°Oh sant√≠simo Jos√©, esposo de Mar√≠a y padre putativo de Jes√∫s! Infinitas gracias doy a Dios porque os escogi√≥ para tan altos ministerios y os adorn√≥ con todos los dones proporcionados a tan excelente grandeza. Os ruego, por el amor que tuvisteis al Divino Ni√±o, me abrac√©is en fervorosos deseos de verle y recibirle sacramentalmente, mientras en su divina esencia le veo y le gozo en el cielo.</p>
                <p>Am√©n.</p>
                <p class="mt-4 text-center italic text-sm text-gray-600">(Se reza el Padrenuestro, el Avemar√≠a y el Gloria)</p>`
            },
            gozosData: {
                coro: "Dulce Jes√∫s m√≠o, mi ni√±o adorado, ¬°Ven a nuestras almas! ¬°Ven no tardes tanto!",
                imagen: IMAGES.gozos,
                estrofas: [
                    {
                        texto: "¬°Oh Sapiencia suma del Dios soberano, que a nivel de un ni√±o te hayas rebajado! ¬°Oh Divino Infante, ven para ense√±arnos la prudencia que hace verdaderos sabios!",
                        significado: "Celebra la sabidur√≠a infinita de Dios que, siendo todopoderoso ('suma sapiencia'), elige por amor hacerse peque√±o y fr√°gil como un ni√±o. Nos recuerda que la verdadera sabidur√≠a no est√° en el poder, sino en la humildad y la sencillez."
                    },
                    {
                        texto: "¬°Oh Adonai potente que Mois√©s hablando, de Israel al pueblo diste los mandatos! ¬°Ah, ven prontamente para rescatarnos, y que un ni√±o d√©bil muestre brazo fuerte!",
                        significado: "'Adonai' es el nombre hebreo de Dios como Se√±or y Legislador. Esta estrofa recuerda el poder de Dios al dar la Ley a Mois√©s en el Sina√≠, y contrasta ese poder aterrador con la tierna fuerza del Ni√±o Jes√∫s que viene a salvarnos no con truenos, sino con amor."
                    },
                    {
                        texto: "¬°Oh ra√≠z sagrada de Jes√© que en lo alto presentas al orbe tu fragante nardo! ¬°Dulc√≠simo Ni√±o que has sido llamado Lirio de los Valles, Bella flor del campo!",
                        significado: "Jes√© fue el padre del Rey David. Aqu√≠ se reconoce a Jes√∫s como el fruto prometido de ese linaje real (la 'ra√≠z'), cumpliendo las profec√≠as. Se usan met√°foras florales (nardo, lirio) para exaltar su belleza espiritual y pureza."
                    },
                    {
                        texto: "¬°Llave de David que abre al desterrado las cerradas puertas de regio palacio! ¬°S√°canos, Oh Ni√±o con tu blanca mano, de la c√°rcel triste que labr√≥ el pecado!",
                        significado: "Jes√∫s es la 'Llave' que tiene la autoridad para reabrir las puertas del Cielo (el 'regio palacio') que el pecado de la humanidad hab√≠a cerrado. Es un clamor por la libertad espiritual y el perd√≥n."
                    },
                    {
                        texto: "¬°Oh Lumbre de Oriente, sol de eternos rayos, que entre las tinieblas tu esplendor veamos! ¬°Ni√±o tan precioso, dicha del cristiano, luzca la sonrisa de tus dulces labios!",
                        significado: "Se compara a Jes√∫s con el sol naciente ('Oriente'). As√≠ como el sol disipa la noche, Jes√∫s llega para iluminar la oscuridad del mundo y de nuestras conciencias, trayendo la alegr√≠a ('dicha') de una nueva esperanza."
                    },
                    {
                        texto: "¬°Espejo sin mancha, santo de los santos, sin igual imagen del Dios soberano! ¬°Borra nuestras culpas, salva al desterrado y en forma de ni√±o, da al m√≠sero amparo!",
                        significado: "Jes√∫s es el reflejo perfecto ('espejo') de la bondad de Dios Padre. Al llamarlo 'sin mancha', invocamos su pureza perfecta para que limpie nuestras propias manchas (culpas) y proteja a los desamparados."
                    },
                    {
                        texto: "¬°Rey de las naciones, Emmanuel preclaro, De Israel anhelo Pastor del reba√±o! ¬°Ni√±o que apacientas con suave cayado ya la oveja arisca, ya el cordero manso!",
                        significado: "Emmanuel significa 'Dios con nosotros'. Aqu√≠ se le ve como el Pastor Universal que une a todos los pueblos. Su liderazgo no es violento, sino suave, guiando tanto a los rebeldes ('oveja arisca') como a los fieles ('cordero manso')."
                    },
                    {
                        texto: "¬°√Åbranse los cielos y llueva de lo alto bienhechor roc√≠o como riego santo! ¬°Ven hermoso Ni√±o, ven Dios humanado! ¬°Luce, hermosa estrella, brota flor del campo!",
                        significado: "Basado en una profec√≠a de Isa√≠as (Rorate caeli). Pedimos que la salvaci√≥n caiga del cielo como una lluvia suave ('roc√≠o') que devuelve la vida a la tierra seca. Es la s√∫plica de una humanidad sedienta de Dios."
                    },
                    {
                        texto: "¬°Ven, que ya Mar√≠a previene sus brazos, do su ni√±o vean, en tiempo cercano! ¬°Ven, que ya Jos√©, con anhelo sacro, se dispone a hacerse de tu amor sagrario!",
                        significado: "Esta estrofa nos conecta con la emoci√≥n humana de Mar√≠a y Jos√©. Nos invita a imitar su ansiosa espera y preparaci√≥n. Ellos son los primeros 'sagrarios' (lugares donde habita Dios) y modelos de acogida."
                    },
                    {
                        texto: "¬°Del d√©bil auxilio, del doliente amparo, consuelo del triste, luz del desterrado! ¬°Vida de mi vida, mi due√±o adorado, mi constante amigo, mi divino hermano!",
                        significado: "Una declaraci√≥n √≠ntima de lo que Jes√∫s significa para el creyente: ayuda en la debilidad, consuelo en la tristeza y, sobre todo, un 'divino hermano' que se hace cercano a nuestro sufrimiento."
                    },
                    {
                        texto: "¬°Ven ante mis ojos, de ti enamorados! ¬°Bese ya tus plantas! ¬°Bese ya tus manos! ¬°Prosternado en tierra, te tiendo los brazos, y a√∫n m√°s que mis frases, te dice mi llanto!",
                        significado: "Es el cl√≠max emocional de la oraci√≥n. Expresa un deseo profundo de adoraci√≥n f√≠sica y entrega total. Las l√°grimas aqu√≠ no son de tristeza, sino de emoci√≥n incontenible por el encuentro con lo Divino."
                    },
                    {
                        texto: "Ni√±o del pesebre, nuestro Dios y hermano, t√∫ sabes y entiendes del dolor humano; que cuando suframos dolores y angustias, siempre recordemos que nos has salvado.",
                        significado: "Resalta la cercan√≠a de Jes√∫s con el sufrimiento humano. Al hacerse hombre, Dios no es ajeno a nuestro dolor, sino que lo comparte y nos da esperanza en los momentos de angustia."
                    },
                    {
                        texto: "Bajaste del cielo, te hiciste un esclavo, para liberarnos de toda opresi√≥n. Todos somos hijos del Padre celeste y todos hermanos: familia de Dios.",
                        significado: "Enfatiza la igualdad fundamental de todos los seres humanos. Al hacerse 'esclavo' (servidor), Jes√∫s rompe las cadenas de la opresi√≥n y nos recuerda que nuestra mayor dignidad es ser hijos de un mismo Padre."
                    },
                    {
                        texto: "Haz de nuestra patria una gran familia; siembra en nuestro suelo tu amor y tu paz. Danos fe en la vida, danos esperanza y un amor sincero que nos una m√°s.",
                        significado: "Una oraci√≥n patri√≥tica por la unidad nacional. Pide sanar las divisiones del pa√≠s ('nuestro suelo') a trav√©s de las virtudes teologales: fe, esperanza y caridad (amor sincero)."
                    },
                    {
                        texto: "T√∫ te hiciste ni√±o en una familia llena de ternura y calor humano. Vivan los hogares, aqu√≠ congregados, el gran compromiso del amor cristiano.",
                        significado: "Exalta el valor de la familia como n√∫cleo de la sociedad y de la fe. Bendice a los hogares presentes y les recuerda que su misi√≥n principal es vivir y transmitir el amor cristiano."
                    },
                    {
                        texto: "¬°Ven Salvador nuestro por quien suspiramos. ¬°Ven a nuestras almas, Ven no tardes tanto!",
                        significado: "El resumen final de la Novena. Toda la historia humana y el deseo personal se condensan en este √∫ltimo suspiro: la necesidad urgente de que el Salvador venga a habitar en nosotros."
                    }
                ]
            },
            oracionNino: {
                titulo: "Oraci√≥n al Ni√±o Jes√∫s",
                imagen: IMAGES.nino,
                texto: `<p class="mb-4">Acordaos, ¬°oh dulc√≠simo Ni√±o Jes√∫s!, que dijisteis a la venerable Margarita del Sant√≠simo Sacramento, y en persona suya a todos vuestros devotos, estas palabras tan consoladoras para nuestra pobre humanidad agobiada y doliente: "Todo lo que quieras pedir, p√≠delo por los m√©ritos de mi infancia y nada te ser√° negado".</p>
                <p class="mb-4">Llenos de confianza en vos, ¬°oh Jes√∫s!, que sois la misma verdad, venimos a exponeros toda nuestra miseria. Ay√∫danos a llevar una vida santa, para conseguir una eternidad bienaventurada. Conc√©denos por los m√©ritos infinitos de vuestra encarnaci√≥n y de vuestra infancia, la gracia de la cual necesitamos tanto.</p>
                <p class="mb-4">Nos entregamos a vos, ¬°oh Ni√±o omnipotente!, seguros de que no quedar√° frustrada nuestra esperanza, y de que en virtud de vuestra divina promesa, acoger√©is y despachar√©is favorablemente nuestra s√∫plica.</p>
                <p>Am√©n.</p>`
            },
            dias: [
                {
                    dia: 1, fecha: "16 de Diciembre", titulo: "D√≠a Primero", subtitulo: "El Verbo Eterno", texto: `En el principio de los tiempos
el Verbo reposaba en el seno de
su Padre en lo m√°s alto de los
cielos; all√≠ era la causa, a la par
que el modelo de toda la creaci√≥n.
En esas profundidades de una
incalculable eternidad permanec√≠a
el Ni√±o de Bel√©n antes de que se
dignara bajar a la tierra y tomara
visiblemente posesi√≥n de la gruta
de Bel√©n. All√≠ es donde debemos
buscar sus principios que jam√°s
han comenzado; de all√≠ debemos
datar la genealog√≠a de lo eterno,
que no tiene antepasados y
contemplar la vida de complacencia
infinita que all√≠ llevaba.
La vida del Verbo eterno en el
seno de su Padre era una vida
maravillosa y sin embargo,
¬°misterio sublime!, busca otra
morada, una mansi√≥n creada. No
era porque en su mansi√≥n eterna
faltase algo a su infinita felicidad,
sino porque su misericordia
infinita anhelaba la redenci√≥n y
la salvaci√≥n del g√©nero humano,
que sin √âl no podr√≠a verificarse.
El pecado de Ad√°n hab√≠a ofendido a
Dios y esa ofensa infinita no pod√≠a
ser condonada sino por los m√©ritos
del mismo Dios. La raza de Ad√°n
hab√≠a desobedecido y merecido un
castigo eterno; era pues necesario
para salvarla y satisfacer su
culpa, que Dios, sin dejar el cielo,
tomase la forma del hombre sobre
la tierra y con la obediencia a los
designios de su Padre expiase
aquella desobediencia, ingratitud y
rebeld√≠a. Era necesario, en las miras
de su amor, que tomase la forma,
las debilidades e ignorancias
sistem√°ticas del hombre; que
creciese para darle crecimiento
espiritual; que sufriese, para
ense√±arle a morir a sus pasiones
y a su orgullo. Y por eso el Verbo
eterno, ardiendo en deseos de salvar
al hombre, resolvi√≥ hacerse hombre
tambi√©n y as√≠ redimir al culpable.` },
                {
                    dia: 2, fecha: "17 de Diciembre", titulo: "D√≠a Segundo", subtitulo: "La Encarnaci√≥n", texto: `El verbo eterno se halla a punto de
tomar su naturaleza creada en la
santa casa de Nazaret, en donde
moraban Mar√≠a y Jos√©. Cuando la
sombra del decreto divino vino a
deslizarse sobre ella, Mar√≠a estaba
sola y engolfada en la oraci√≥n.
Pasaba las silenciosas horas de la
noche en la uni√≥n m√°s estrecha
con Dios; y mientras oraba, el Verbo
tom√≥ posesi√≥n de su morada creada.
Sin embargo, no lleg√≥
inopinadamente: antes de
presentarse envi√≥ a un mensajero,
que fue el Arc√°ngel San Gabriel para
pedir a Mar√≠a de parte de Dios su
consentimiento para la encarnaci√≥n.
El creador no quiso efectuar ese
gran misterio sin la aquiescencia de
su criatura.
Aquel momento fue muy solemne:
era potestativo en Mar√≠a rehusar...
Con qu√© adorables delicias, con qu√©
inefable complacencia aguardar√≠a
la Sant√≠sima Trinidad a que Mar√≠a
abriese los labios y pronunciase el
‚Äús√≠‚Äù que debi√≥ ser suave melod√≠a
para sus o√≠dos, y con el cual se
conformaba su profunda humildad
a la omnipotente voluntad divina.
La Virgen Inmaculada ha dado
su asentimiento. El arc√°ngel ha
desaparecido. Dios se ha revestido
de una naturaleza creada; la
voluntad eterna est√° cumplida y la
creaci√≥n completa. En las regiones
del mundo ang√©lico estalla el j√∫bilo
inmenso, pero la Virgen Mar√≠a
ni le o√≠a ni le hubiese prestado
atenci√≥n a √©l. Ten√≠a inclinada la
cabeza y su alma estaba sumida
en el silencio que se asemejaba al
de Dios. El Verbo se hab√≠a hecho
carne, y aunque todav√≠a invisible
para el mundo, habitaba ya entre
los hombres que su inmenso
amor hab√≠a venido a rescatar.
No era ya solo el Verbo eterno,
era el Ni√±o Jes√∫s revestido de la
apariencia humana, y justificando ya
el elogio que de √âl han hecho todas
las generaciones en llamarle el m√°s
hermoso de los hijos de los hombres.` },
                {
                    dia: 3, fecha: "18 de Diciembre", titulo: "D√≠a Tercero", subtitulo: "El Ni√±o en el Seno de Mar√≠a", texto: `As√≠ hab√≠a comenzado su vida
encarnada el Ni√±o Jes√∫s.
Consideremos el alma gloriosa y el
santo cuerpo que hab√≠a tomado,
ador√°ndolos profundamente.
Admirado en el primer lugar
en el alma de ese Divino Ni√±o,
considerarnos en ella la plenitud
de su gracia santificadora; la de su
ciencia beat√≠fica, por lo cual desde
el primer momento de su vida vio la
divina esencia m√°s claramente que
todos los √°ngeles y ley√≥ lo pasado
y lo por venir con todos sus arcanos
conocimientos. No supo por
adquisici√≥n nada que no supiese
por infusi√≥n desde el primer
momento de su ser, pero √âl adopt√≥
todas las enfermedades de nuestra
naturaleza a que dignamente pod√≠a
someterse, aun cuando no fuese
necesario para la grande obra
que deb√≠a cumplir. Pid√°mosle que
sus divinas facultades suplan la
debilidad de las nuestras y les den
nueva energ√≠a; que su memoria nos
ense√±e a recordar sus beneficios,
su entendimiento a pensar en √âl, su
voluntad a no hacer sino lo que √âl
quiere y en servicio suyo.
Del alma del Ni√±o Jes√∫s pasemos
ahora a su cuerpo, que era un
mundo de maravillas, una obra
maestra de la mano de Dios. No era,
como el nuestro, una traba para el
alma; era, por el contrario, un nuevo
elemento de
santidad. Quiso
que fuese
peque√±o y d√©bil
como el de los
ni√±os, y sujeto
a todas las
incomodidades
de la
infancia, para
asemejarse m√°s a nosotros
y participar de nuestras
humillaciones. El Esp√≠ritu Santo
form√≥ ese cuerpecillo divino con
tal delicadeza y tal capacidad de
sentir, que pudiese sufrir el exceso
para cumplir la grande obre de
nuestra redenci√≥n.
La belleza de ese cuerpo divino fue
superior a cuanto se ha imaginado
jam√°s; la divina sangre que por sus
venas empez√≥ a circular desde el
momento de la encarnaci√≥n es la
que lava todas las manchas del
mundo culpable.
Pid√°mosle que lave las nuestra en
el sacramento de la penitencia,
para que el d√≠a de su Navidad nos
encuentre purificados, perdonados
y dispuestos a recibirle con amor y
provecho espiritual.` },
                {
                    dia: 4, fecha: "19 de Diciembre", titulo: "D√≠a Cuarto", subtitulo: "La Humildad de Jes√∫s", texto: `Desde el seno de su madre
comenz√≥ el Ni√±o Jes√∫s a poner
en pr√°ctica su entera sumisi√≥n a
Dios, que continu√≥ sin la menor
interrupci√≥n durante toda su vida.
Adoraba a su Eterno Padre, le
amaba, se somet√≠a a su voluntad,
aceptaba con resignaci√≥n el estado
en que se hallaba conociendo toda
su debilidad, toda su humillaci√≥n,
todas sus incomodidades.
¬øQui√©n de nosotros quisiera
retroceder a un estado semejante
con el pleno goce de la raz√≥n y
de la reflexi√≥n?, ¬øqui√©n pudiera
sostener a sabiendas un martirio
tan prolongado, tan penoso de
todas maneras?. Por ah√≠ entr√≥
el Divino Ni√±o en su dolorosa y
humilde carrera; as√≠ empez√≥ a
anonadarse delante de su Padre,
a ense√±arnos lo que Dios merece
por parte de su criatura, a expiar
nuestro orgullo, origen de todos
nuestros pecados, y hacemos
sentir toda la criminalidad
y des√≥rdenes del orgullo.
Deseamos hacer una verdadera
oraci√≥n; empecemos por
formarnos de ella una exacta idea
contemplando al Ni√±o en el seno
de su madre, El Divino Ni√±o ora
y ora del modo m√°s excelente.
No habla, no medita ni se deshace
en tiernos afectos. Su mismo
estado, aceptado con la intenci√≥n
de honrar a Dios, es su oraci√≥n y
ese estado expresa altamente todo
lo que Dios merece y de qu√© modo
quiere ser adorado por nosotros.
Un√°monos a las oraciones del
Ni√±o Dios en el seno de Mar√≠a,
un√°monos al profundo abatimiento
y sea este el primer afecto de
nuestro sacrificio a Dios. D√©monos
a Dios, no para ser algo como lo
pretende continuamente nuestra
vanidad, sino para ser nada, para
quedar eternamente consumidos
y anonadados, para renunciar
a la estimulaci√≥n de nosotros
mismos, a todo cuidado de nuestra
grandeza aunque sea espiritual,
a todo movimiento de vanagloria.
Desaparezcamos a nuestros propios
ojos y que Dios s√≥lo sea todo para
nosotros.` },
                {
                    dia: 5, fecha: "20 de Diciembre", titulo: "D√≠a Quinto", subtitulo: "La Vida de Mar√≠a", texto: `Ya hemos visto la vida que llevaba
el Ni√±o Jes√∫s en el seno de su
pur√≠sima Madre; veamos hoy
toda la vida que llevaba tambi√©n
Mar√≠a durante el mismo espacio
de tiempo. Necesidad hoy de que
no tengamos en ella si queremos
comprender, en cuanto es posible
a nuestra limitada capacidad,
los sublimes misterios de la
encarnaci√≥n y el modo como hemos
de corresponder a ellos.
Mar√≠a no cesaba de aspirar por el
momento en que gozar√≠a de esa
visi√≥n beat√≠fica terrestre; la faz de
Dios encarnado. Estaba a punto de
ver aquella faz humana que deb√≠a
iluminar el cielo durante toda la
eternidad, iba a leer el amor filial
en aquellos mismos ojos cuyos
rayos deber√≠an esparcir para
siempre la felicidad en millones
de elegidos. Iba a ver aquel rostro
todos los d√≠as, a todas horas, cada
instante, durante muchos a√±os. Iba
a verle en la ignorancia aparente
de la infancia, en los encantos
particulares de la juventud y en
la serenidad reflexiva de la edad
madura... Har√≠a todo lo que quisiese
de aquella faz divina; podr√≠a
estrecharla contra la suya con toda
la libertad del amor materno; cubrir
de besos los labios que deber√≠an
pronunciar la sentencia a todos los
hombres; contemplarla a su gusto
durante su sue√±o o despierta,
hasta que la hubiese aprendido de
memoria...¬°Cu√°n ardientemente
deseaba ese d√≠a!
Tal era la expectativa de Mar√≠a...
era inaudita en s√≠ misma, mas
no por eso dejaba de ser el tipo
magn√≠fico de toda la vida cristiana.
No nos contentemos con admirar a
Jes√∫s residiendo en Mar√≠a, sino por
esencia, potencia y presencia.
S√≠, Jes√∫s nace continuamente
en nosotros y de nosotros, por
las buenas obras que nos hace
capaces de cumplir y por nuestra
cooperaci√≥n a la gracia; de manera
que el alma del que se halla en
gracia es un seno perpetuo de
Mar√≠a, un Bel√©n interior sin fin.
Despu√©s de la comuni√≥n, Jes√∫s
habita en nosotros durante algunos
instantes, real y sustancialmente
como Dios y como hombre, porque
el mismo Ni√±o que estaba en Mar√≠a
est√° tambi√©n en el Sant√≠simo
Sacramento. ¬øQu√© es todo esto
sino una participaci√≥n de la vida
de Mar√≠a durante esos maravillosos
meses, y una expectativa llena de
delicias como la suya?` },
                {
                    dia: 6, fecha: "21 de Diciembre", titulo: "D√≠a Sexto", subtitulo: "El Viaje a Bel√©n", texto: `Jes√∫s hab√≠a sido concebido en
Nazaret, domicilio de Jos√© y
Mar√≠a, y all√≠ era de creerse que
hab√≠a de nacer, seg√∫n todas las
probabilidades. Mas Dios lo ten√≠a
dispuesto de otra manera y los
profetas hab√≠an anunciado que el
mes√≠as nacer√≠a en Bel√©n de Jud√°,
ciudad de David.
Para que se cumpliese esa
predicci√≥n, Dios se sirvi√≥ de
un medio que no parec√≠a tener
ninguna relaci√≥n con este objeto,
a saber la orden dada por el
emperador Augusto, que todos los
s√∫bditos del imperio romano se
empadronasen en el lugar de donde
eran originarios. Mar√≠a y Jos√©, como
descendientes que eran de David,
no estaban dispensados de ir a
Bel√©n. Ni la situaci√≥n de la Virgen
Sant√≠sima ni la necesidad en que
estaba Jos√© del trabajo diario que
les aseguraba la subsistencia, pudo
eximirles de este largo y penoso
viaje, en la estaci√≥n m√°s rigurosa e
inc√≥moda del a√±o.
No ignora Jes√∫s en qu√© lugar debe
nacer e inspira a sus padres que
se entreguen a la Providencia, y
que de esta manera concurran
inconscientemente a la ejecuci√≥n
de los designios. Almas interiores,
observad este manejo del Divino
Ni√±o, porque es el m√°s importante
de la vida espiritual; aprended que
quien se haya entregado a Dios ya
no ha de pertenecerse a s√≠ mismo,
ni ha de querer a cada instante
sino lo que Dios quiera para √©l;
sigui√©ndole ciegamente aun en
las cosas exteriores, tales como el
cambio de lugar donde quiera que le
plazca conducirle. Ocasi√≥n tendr√©is
de observar esta dependencia y
fidelidad inviolable en toda la vida
de Jesucristo, y este es el punto
sobre el cual se han esmerado en
imitarle los santos y las almas
verdaderamente interiores,
renunciando absolutamente a su
propia voluntad.` },
                {
                    dia: 7, fecha: "22 de Diciembre", titulo: "D√≠a S√©ptimo", subtitulo: "La Llegada a Bel√©n", texto: `Represent√©monos el viaje de
Mar√≠a y Jos√© hacia Bel√©n, llevando
consigo, a√∫n no nacido, al Creador
del universo hecho hombre.
Contemplemos la humanidad y la
obediencia de este Divino Ni√±o que
aunque de raza jud√≠a y habiendo
amado durante siglos a su pueblo
con una predilecci√≥n inexplicable,
obedece as√≠ a un pr√≠ncipe extranjero
que forma el censo de poblaci√≥n de
su provincia, como si hubiese para
√âl en esa circunstancia algo que le
halagase, y quisiese apresurarse a
aprovechar la ocasi√≥n de hacerse
empadronar oficial y aut√©nticamente
como s√∫bdito en el momento en
el que ven√≠a al mundo. ¬øNo es
extra√±o que la humillaci√≥n, que
causa tan invencible repugnancia
a la criatura, parezca ser la √∫nica
cosa creada que tenga atractivos
para el Creador? ¬øNo nos ense√±ar√°
la humildad de Jes√∫s a amar esa
hermosa virtud?.
¬°Ah...!Que llegue el
momento en que aparezca
el deseado de las naciones,
porque todo clama por
este feliz acontecimiento,
El mundo, sumido en la
oscuridad y el malestar
buscando y no encontrando
el alivio de sus males,
suspira por su Libertador.
El anhelo de Jos√©, la
expectativa de Mar√≠a, son cosa
que no puede expresar el lenguaje
humano. El Padre Eterno se halla,
si es l√≠cito emplear esta expresi√≥n
adorablemente impaciente por dar
a su Hijo √∫nico al mundo, y verle
ocupar su puesto entre las criaturas
visibles.
El Esp√≠ritu Santo arde en deseos
de presentar a la luz del d√≠a esta
santa humanidad tan bella que El
mismo ha formado con tan especial
y divino esmero. En cuando al
Divino Ni√±o, objeto de tantos
anhelos, recordemos que hacia
nosotros avanza lo mismo que hacia
Bel√©n. Apresuremos con nuestro
deseo el momento de su llegada,
purifiquemos nuestras almas para
que sean su m√≠stica morada, y
nuestros corazones para que sean su
Manis terrenal, que nuestros actos
de mortificaci√≥n desprendimiento
‚Äúpreparen los caminos del Se√±or y
hagan rectos sus senderos‚Äù.` },
                {
                    dia: 8, fecha: "23 de Diciembre", titulo: "D√≠a Octavo", subtitulo: "La B√∫squeda de Posada", texto: `Llegan a Bel√©n Jos√© y Mar√≠a,
buscando hospedaje en los
mesones; pero no lo encuentran
ya por hallarse todo ocupado, ya
porque se les desechase a causa de
su pobreza. Empero, puede turbar
la paz interior de los que est√°n
fijos en Dios. Si Jos√© experimentaba
sorpresa cuando era rechazado
de casa en casa, porque pensaba
en Mar√≠a y en el Ni√±o, sonr√≠ase
tambi√©n con tanta tranquilidad
cuando fijaba sus miradas en
su casta esposa. El ni√±o a√∫n no
nacido regocij√°base de aquellas
negativas que eran el preludio de
sus humillaciones venideras. Cada
voz √°spera, el nido de cada puerta
que se cerraba ante ellos, era lo
que hab√≠a venido a buscar. El deseo
de esas humillaciones era lo que
hab√≠a contribuido a hacerle tomar
la forma humana.
¬°Oh Divino Ni√±o de Bel√©n! Estos
d√≠as que tantos han pasado en
fiestas y diversiones o descansando
muellemente en c√≥modas y ricas
mansiones, han sido para vuestros
padres un d√≠a de fatiga y vejaciones
de toda clase. ¬°Ay! El esp√≠ritu de Bel√©n
es el de un mundo que ha olvidado
a Dios. ¬°Cu√°ntas veces no ha sido
tambi√©n el nuestro! ¬øNo cerramos
continuamente con ruda ignorancia
la puerta a los llamamientos de
Dios, que nos solicita convertirnos,
o santificarnos o conformarnos con
su voluntad? ¬øNo hacemos mal uso
de nuestras penas, desconociendo
su car√°cter celestial con que cada
uno a su modo lo lleva grabado en
si? Dios viene a nosotros muchas
veces en la vida, pero no conocemos
su faz, o le reconocemos hasta que
nos vuelve la espalda y se aleja
despu√©s de nuestra negativa.
Se pone el sol de 24 de diciembre
detr√°s de los tejados de Bel√©n y
sus √∫ltimos rayos doran las cimas
de las rocas escarpadas que lo
rodean. Hombres groseros codean
rudamente al Se√±or en las calles de
aquella aldea oriental, y cierran sus
puertas al ver a su madre, la b√≥veda
de los cielos aparece purpurina
por encima de aquellas colinas
frecuentadas por los pastores. Las
estrellas van apareciendo una tras
otra. Algunas horas m√°s y aparecer√°
el Verbo eterno.` },
                {
                    dia: 9, fecha: "24 de Diciembre", titulo: "D√≠a Noveno", subtitulo: "El Nacimiento de Jes√∫s", texto: `La noche ha cerrado del todo en
las campi√±as de Bel√©n. Desechados
por los hombres, y vi√©ndose sin
abrigo, Mar√≠a y Jos√© han salido
de la inhospitalaria poblaci√≥n y
se han refugiado en una gruta
que se encontraba al pie de la
colina. Segu√≠a a la reina de los
√°ngeles el jumento que le hab√≠a
servido de humilde cabalgadura
durante el viaje, y en aquella cueva
hallaron un manso buey, dejado
all√≠ probablemente por alguno de
los caminantes que hab√≠an ido a
buscar hospedaje en la ciudad.
El Divino Ni√±o, desconocido por
sus criaturas racionales, va a tener
que acudir a loas irracionales para
que calienten con su tibio aliento
la atm√≥sfera helada de esa noche
de invierno, y le manifiesten con
esto y con su humilde actitud el
respeto y la adoraci√≥n que le hab√≠a
negado Bel√©n. La rojiza linterna
que Jos√© tiene en la mano ilumina
tenuemente ese pobr√≠simo recinto,
ese pesebre lleno de paja que es
figura prof√©tica de las maravillas
del altar, y de la √≠ntima y prodigiosa
uni√≥n eucar√≠stica que Jes√∫s ha
de contraer con los hombres.
Mar√≠a est√° en adoraci√≥n en medio
de la gruta, y as√≠ van pasando
silenciosamente las horas de esa
noche llena de misterio.
Pero ha llegado la medianoche,
y de repente vemos dentro de
ese pesebre, poco antes vac√≠o, al Divino Ni√±o esperado, vaticinado,
deseado durante cuatro mil a√±os
con inefable anhelo.
A sus pies se postra su Sant√≠sima
Madre, en los transportes de una
adoraci√≥n de la cual nada puede dar
idea. Jos√© tambi√©n se acerca y le
rinde el homenaje con que inaugura
su misterioso e imponderable oficio
de padre adoptivo del Redentor de
los hombres.
La multitud de √°ngeles que
desciende de los cielos a contemplar
esa maravilla sin par, dejan estallar
su alegr√≠a y hacen vibrar en los
aires las armon√≠as de ese Gloria
in Excelsis que es el eco de la
adoraci√≥n que se produce en torno
del Alt√≠simo, hecha perceptible
por un instante a los o√≠dos de la
pobre tierra. Convocados por ellos,
vienen en tropel los pastores de la
comarca a adorar al reci√©n nacido y
presentarle sus humildes ofrendas.
Ya brilla en oriente la misteriosa
estrella de Jacob, y ya se pone en
marcha hacia Bel√©n la caravana
espl√©ndida de los Reyes Magos,
que dentro de pocos d√≠as vendr√°n
a depositar a los pies del Divino
Ni√±o el oro, el incienso, y la mirra,
que son s√≠mbolos de la caridad, la
adoraci√≥n y la mortificaci√≥n.
¬°Oh adorado Ni√±o! Nosotros
tambi√©n, los que hemos hecho
esta novena para prepararnos al
d√≠a de vuestra Navidad, queremos
ofreceros nuestra pobre adoraci√≥n.
¬°No la rechac√©is! ¬°Ven a nuestras
almas, venid a nuestros corazones
llenos de amor!
Encended en ellos la devoci√≥n
a vuestra santa infancia, no
intermitente y s√≥lo circunscrita
al tiempo de vuestra Navidad,
sino siempre y en todos los
tiempos; devoci√≥n que fielmente
practicada y celosamente
propagada, nos conduzca a la vida
eterna, libr√°ndonos del pecado
y sembrando nosotros todas las
virtudes cristianas.` }
            ],
            villancicos: [
                {
                    titulo: "Tutaina",
                    letra: `(Coro)
                    Tutaina tuturuma
                    Tutaina tuturumaina
                    Tutaina tuturuma, turuma
                    Tutaina tuturumaina.
                    
                    Los pastores de Bel√©n
                    Vienen a adorar al Ni√±o;
                    La Virgen y San Jos√©
                    Los reciben con cari√±o.
                    (Coro)
                    
                    Tres reyes vienen tambi√©n
                    Con incienso, mirra y oro,
                    A ofrendar a Dios su Bien
                    Como el m√°s grande tesoro.
                    (Coro)`
                },
                {
                    titulo: "Anton Tiruliru Liru",
                    letra: `(Coro)
                    Ant√≥n tiruliru liru
                    Ant√≥n tiruliru la
                    Ant√≥n tiruliru liru
                    Ant√≥n tiruliru la
                    
                    Jes√∫s al pesebre
                    Vamos a adorar
                    Jes√∫s al pesebre
                    Vamos a adorar.
                    
                    Du√©rmete Ni√±o chiquito
                    Que la noche viene ya;
                    Cierra pronto tus ojitos
                    Que el viento te arrullar√°.
                    (Coro)`
                },
                {
                    titulo: "Los Peces en el R√≠o",
                    letra: `La Virgen se est√° peinando
                    Entre cortina y cortina
                    Los cabellos son de oro
                    Y el peine de plata fina.
                    
                    (Coro)
                    Pero mira c√≥mo beben los peces en el r√≠o
                    Pero mira c√≥mo beben por ver al Dios nacido
                    Beben y beben y vuelven a beber
                    Los peces en el r√≠o por ver a Dios nacer.`
                },
                {
                    titulo: "Mi Burrito Sabanero",
                    letra: `Con mi burrito sabanero, voy camino de Bel√©n
                    Con mi burrito sabanero, voy camino de Bel√©n
                    
                    Si me ven, si me ven, voy camino de Bel√©n
                    Si me ven, si me ven, voy camino de Bel√©n
                    
                    El lucerito ma√±anero ilumina mi sendero
                    El lucerito ma√±anero ilumina mi sendero
                    
                    Si me ven, si me ven, voy camino de Bel√©n
                    Si me ven, si me ven, voy camino de Bel√©n
                    
                    (Coro)
                    Tuqui tuqui tuqui tuqui, Tuqui tuqui tuqui ta
                    Ap√∫rate mi burrito que ya vamos a llegar
                    Tuqui tuqui tuqui tuqui, Tuqui tuqui tuqui ta
                    Ap√∫rate mi burrito vamos a ver a Jes√∫s.`
                }
            ]
        };

        // --- L√ìGICA DE LA APP ---
        let currentGozoIndex = 0; // State for Gozos Carousel
        let isDesktopExpanded = false;

        function toggleDesktopSidebar() {
            const sidebar = document.getElementById('sidebar');
            const titles = document.querySelectorAll('.sidebar-title');
            const texts = document.querySelectorAll('.nav-text');
            const toggleBtn = document.getElementById('desktop-toggle-btn');
            const themeContainer = document.getElementById('theme-btn-container');

            isDesktopExpanded = !isDesktopExpanded;

            if (isDesktopExpanded) {
                // Expand
                sidebar.classList.remove('w-20');
                sidebar.classList.add('w-64');

                titles.forEach(t => t.classList.remove('hidden'));
                texts.forEach(t => t.classList.remove('hidden'));

                toggleBtn.classList.remove('mx-auto'); // Move button to side when expanded

                // Footer Layout: Row
                themeContainer.classList.remove('flex-col', 'space-y-2');
                themeContainer.classList.add('flex-row', 'space-x-2');

            } else {
                // Collapse
                sidebar.classList.add('w-20');
                sidebar.classList.remove('w-64');

                titles.forEach(t => t.classList.add('hidden'));
                texts.forEach(t => t.classList.add('hidden'));

                toggleBtn.classList.add('mx-auto'); // Center button when collapsed

                // Footer Layout: Column (Stack)
                themeContainer.classList.remove('flex-row', 'space-x-2');
                themeContainer.classList.add('flex-col', 'space-y-2');
            }
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            const titles = document.querySelectorAll('.sidebar-title');
            const texts = document.querySelectorAll('.nav-text');
            const themeContainer = document.getElementById('theme-btn-container');

            sidebar.classList.toggle('hidden');
            sidebar.classList.toggle('translate-x-0');

            if (sidebar.classList.contains('hidden')) {
                sidebar.classList.remove('flex');
                overlay.classList.add('hidden');
            } else {
                sidebar.classList.add('flex');
                overlay.classList.remove('hidden');
                sidebar.classList.remove('-translate-x-full');

                // Ensure correct mobile width and visibility
                sidebar.classList.remove('w-20');
                sidebar.classList.add('w-64');
                titles.forEach(t => t.classList.remove('hidden'));
                texts.forEach(t => t.classList.remove('hidden'));

                // Ensure Footer is Row on Mobile
                themeContainer.classList.remove('flex-col', 'space-y-2');
                themeContainer.classList.add('flex-row', 'space-x-2');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const sidebar = document.getElementById('sidebar');
            const themeContainer = document.getElementById('theme-btn-container');

            if (window.innerWidth < 768) {
                // Mobile Init
                sidebar.classList.add('hidden');
                sidebar.classList.add('-translate-x-full');
            } else {
                // Desktop Init (Collapsed by default)
                // Ensure Footer is Column
                if (themeContainer) {
                    themeContainer.classList.remove('flex-row', 'space-x-2');
                    themeContainer.classList.add('flex-col', 'space-y-2');
                }
            }
            // renderView('inicio'); // Removed to avoid conflict with hash navigation
        });

        function setActiveButton(targetId) {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if (btn.dataset.target === targetId) {
                    btn.classList.add('active', 'bg-red-700', 'text-white');
                    btn.classList.remove('hover:bg-green-800');
                } else {
                    btn.classList.remove('active', 'bg-red-700', 'text-white');
                    btn.classList.add('hover:bg-green-800');
                }
            });

            if (window.innerWidth < 768) {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('mobile-overlay');

                // Hide sidebar on navigation
                sidebar.classList.add('hidden');
                sidebar.classList.add('-translate-x-full');
                sidebar.classList.remove('flex');
                overlay.classList.add('hidden');

                // Reset to collapsed state for next toggle? 
                // No, toggleSidebar handles the "opening" logic correctly now.
            }
        }

        function updateHash(hash) {
            if (history.pushState) {
                history.pushState(null, null, hash);
            } else {
                location.hash = hash;
            }
        }

        let currentRenderedView = null;

        function renderView(viewId, skipHash = false) {
            // Prevent redundant renders if coming from hash change (system event)
            if (skipHash && viewId === currentRenderedView) {
                return;
            }

            currentRenderedView = viewId;
            const contentArea = document.getElementById('content-area');
            setActiveButton(viewId);
            contentArea.innerHTML = '';

            if (!skipHash) {
                let hash = '#' + viewId;
                if (viewId === 'consideraciones') {
                    // Default to day 1 (index 0) if just rendering view, but rely on renderDayContent to update precise hash
                    // actually, we might want to wait for renderDayContent to set the hash. 
                    // But if we just click the menu, it goes to day 1.
                    hash = '#dia-1';
                } else if (viewId === 'gozos') {
                    // Default to gozo 1
                    hash = '#gozo-1';
                } else if (viewId === 'inicio') {
                    hash = '#inicio';
                } else if (viewId === 'todos-dias') {
                    hash = '#oracion-todos';
                } else if (viewId === 'virgen') {
                    hash = '#oracion-virgen';
                } else if (viewId === 'san-jose') {
                    hash = '#oracion-san-jose';
                } else if (viewId === 'nino-jesus') {
                    hash = '#oracion-nino';
                }

                updateHash(hash);
            }

            let html = '';

            switch (viewId) {
                case 'inicio':
                    html = `
                        <div class="text-center fade-in space-y-8">
                             <div class="bg-white-50 p-8 rounded-xl border-2 border-red-100 shadow-sm relative overflow-hidden">
                                <!-- Image Header for Intro -->
                                <div class="absolute inset-0 z-0 opacity-10">
                                    <img src="${IMAGES.hollyFamily}" class="w-full h-full object-cover sweet-filter">
                                </div>
                                <div class="relative z-10">
                                    <h2 class="text-3xl md:text-5xl text-red-700 font-bold mb-4 serif">Novena de Aguinaldos</h2>
                                    <p class="text-lg text-gray-600 mb-6">Tradici√≥n, Familia y Amor</p>
                                    <div class="flex justify-center my-6">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 text-yellow-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                                    </div>
                                    <p class="max-w-xl mx-auto text-gray-700">Bienvenido a esta gu√≠a digital para rezar la Novena. Utiliza el men√∫ para navegar por las oraciones en el orden tradicional.</p>
                                </div>
                            </div>
                            
                            <!-- Family Dedication -->
                            <div class="mt-8 bg-yellow-50 p-6 rounded-xl border border-red-100 text-center shadow-inner">
                                <div class="max-w-md mx-auto">
                                     <img src="${IMAGES.family}" class="w-full h-auto rounded-lg shadow-md mb-4 transform hover:scale-105 transition-transform duration-300" alt="Familia Tapasco Zu√±iga">
                                     <p class="text-gray-600 font-serif italic text-lg">Hecho con amor por la familia Tapasco Zu√±iga</p>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left">
                                <div class="bg-white p-6 rounded-lg shadow border-l-4 border-green-600">
                                    <h3 class="font-bold text-xl mb-2 text-green-800">Orden Sugerido</h3>
                                    <ol class="list-decimal list-inside space-y-2 text-sm text-gray-700">
                                        <li>Oraci√≥n para Todos los D√≠as</li>
                                        <li>Consideraci√≥n del D√≠a (1-9)</li>
                                        <li>Oraci√≥n a la Sant√≠sima Virgen</li>
                                        <li>Oraci√≥n a San Jos√©</li>
                                        <li>Gozos (Aspiraciones)</li>
                                        <li>Oraci√≥n al Ni√±o Jes√∫s</li>
                                        <li>Villancicos</li>
                                    </ol>
                                </div>
                                <div class="bg-white p-6 rounded-lg shadow border-l-4 border-red-600 flex flex-col justify-center items-center">
                                    <p class="text-center mb-4 font-semibold text-gray-700">¬°Comienza ahora!</p>
                                    <button onclick="renderView('todos-dias')" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition transform hover:scale-105">
                                        Empezar Novena
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                    break;

                case 'todos-dias':
                    html = createPrayerCard(DATA.oracionTodosDias.titulo, DATA.oracionTodosDias.texto, 'bg-white-50', 'border-red-200', DATA.oracionTodosDias.imagen);
                    html += createNextButton('Ir a las Consideraciones', 'consideraciones');
                    break;

                case 'virgen':
                    html = createPrayerCard(DATA.oracionVirgen.titulo, DATA.oracionVirgen.texto, 'bg-white-50', 'border-blue-200', DATA.oracionVirgen.imagen);
                    html += createNextButton('Ir a Oraci√≥n a San Jos√©', 'san-jose');
                    break;

                case 'san-jose':
                    html = createPrayerCard(DATA.oracionSanJose.titulo, DATA.oracionSanJose.texto, 'bg-white-50', 'border-yellow-200', DATA.oracionSanJose.imagen);
                    html += createNextButton('Ir a los Gozos', 'gozos');
                    break;

                case 'nino-jesus':
                    html = createPrayerCard(DATA.oracionNino.titulo, DATA.oracionNino.texto, 'bg-white-50', 'border-green-200', DATA.oracionNino.imagen);
                    html += createNextButton('Cantar Villancicos', 'villancicos');
                    break;

                case 'consideraciones':
                    html = `
                        <div class="fade-in">
                            <h2 class="text-2xl font-bold text-center mb-6 text-green-800 serif">Consideraciones Diarias</h2>
                            <div class="flex flex-wrap justify-center gap-2 mb-8">
                                ${DATA.dias.map((d, index) => `
                                    <button onclick="renderDayContent(${index})" class="day-btn bg-white p-4 rounded-xl shadow-sm border border-green-100 hover:bg-green-50 hover:border-green-300 transition-all text-left group">
                                        <div class="flex items-center justify-between">
                                            <span class="font-bold text-lg">D√≠a ${d.dia}</span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 opacity-0 group-hover:opacity-100 text-green-600 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                                        </div>
                                        <div class="day-subtitle text-sm text-gray-500 font-serif line-clamp-1 group-hover:text-green-700">${d.subtitulo}</div>
                                        <div class="day-date text-xs text-green-600 font-semibold mt-1">${d.fecha}</div>
                                    </button>
                                `).join('')}
                            </div>
                            <div id="day-content" class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 relative min-h-[300px] flex items-center justify-center text-gray-400 italic">
                                Selecciona un d√≠a para leer la consideraci√≥n
                            </div>
                             <div class="mt-8 text-center">
                                <button onclick="renderView('virgen')" class="inline-flex items-center text-red-600 hover:text-red-800 font-semibold">
                                    Siguiente: Oraci√≥n a la Virgen <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                </button>
                            </div>
                        </div>
                    `;
                    // Check if we have a specific day in hash to load? handled by handleHash mostly.
                    // But if triggered by menu click, we load day 0.
                    // IMPORTANT: We need to respect if we are here because of a specific day hash request
                    // The logic in renderDayContent updates the hash.

                    // If we just clicked 'Consideraciones' menu, we go to 0. 
                    // If we are here from handleHash, we likely called renderView then renderDayContent immediately.

                    // We can defer the default day 0 load only if we aren't already targeting a specific day?
                    // Simpler: Just rely on the caller (handleHash) to call renderDayContent after this if needed.
                    // For manual clicks, we default to 0.

                    if (!skipHash) {
                        setTimeout(() => renderDayContent(0), 0);
                    }
                    break;

                case 'gozos':
                    // If skipHash is true, it means we entered via hash/handleHash, so we might want to respect a specific index set externally or handled via subsequent call.
                    // Actually, handleHash will call 'changeGozo' or set 'currentGozoIndex' properly.
                    // Let's rely on handleHash to override this if needed, or make this conditional.

                    // Better approach: renderView just verifies the structure. handleHash does the specific content.
                    // For manual click, we reset.
                    if (!skipHash) currentGozoIndex = 0;
                    html = `
                        <div class="fade-in max-w-2xl mx-auto flex flex-col h-full">
                            <h2 class="text-3xl font-bold text-center mb-2 text-red-700 serif">Gozos</h2>
                            
                            <!-- Static Chorus -->
                            <div class="bg-red-100 p-4 rounded-lg text-center mb-6 border border-red-200 shadow-sm">
                                <span class="text-xs font-bold text-red-800 uppercase tracking-widest block mb-1">Coro (Todos)</span>
                                <p class="text-red-900 font-bold text-lg italic leading-tight">"${DATA.gozosData.coro}"</p>
                            </div>

                            <!-- Carousel Container -->
                            <div id="gozo-card" class="bg-white rounded-xl shadow-xl border-t-8 border-green-600 flex flex-col items-center text-center relative transition-all duration-300 w-full">
                                <!-- Imagen del Gozo -->
                                <img id="gozo-img-dynamic" src="${DATA.gozosData.imagen}" class="w-full h-48 object-cover sweet-filter border-b-4 border-yellow-500 flex-shrink-0">
                                
                                <span class="absolute top-4 right-4 bg-white/80 rounded-full w-8 h-8 flex items-center justify-center text-green-800 font-bold shadow-sm" id="gozo-number">${currentGozoIndex + 1}</span>
                                
                                <div id="gozo-content-wrap" class="p-6 w-full">
                                    <p id="gozo-text" class="text-xl md:text-2xl font-serif text-gray-800 leading-relaxed mb-6">
                                        ${DATA.gozosData.estrofas[currentGozoIndex].texto}
                                    </p>
                                    <!-- Explanation Block (Hidden by default) -->
                                    <div id="gozo-explanation" class="hidden bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-sm text-gray-700 italic mb-4 text-left">
                                        <span class="font-bold text-yellow-700 not-italic block mb-1">üí° Significado:</span>
                                        <span id="gozo-explanation-text">${DATA.gozosData.estrofas[currentGozoIndex].significado}</span>
                                    </div>
                                    
                                    <button onclick="toggleSignificado()" class="text-xs flex items-center justify-center mx-auto text-green-700 hover:text-green-900 font-semibold bg-green-100 hover:bg-green-200 px-3 py-1 rounded-full transition mb-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                        ?
                                    </button>

                                    <p class="text-sm text-gray-400 mt-2">(Se repite el Coro)</p>
                                </div>
                            </div>

                            <!-- Navigation Controls -->
                            <div class="flex items-center justify-between mt-8 px-4">
                                <button onclick="changeGozo(-1)" class="p-3 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-700 transition focus:outline-none">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                                </button>
                                <span class="text-gray-500 font-semibold" id="gozo-indicator">${currentGozoIndex + 1} / ${DATA.gozosData.estrofas.length}</span>
                                <button onclick="changeGozo(1)" class="p-3 rounded-full bg-green-700 hover:bg-green-800 text-white shadow-lg transition focus:outline-none">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                </button>
                            </div>

                            <div class="mt-8 text-center">
                                <button onclick="renderView('nino-jesus')" class="text-red-600 hover:text-red-800 font-semibold underline">
                                    Finalizar Gozos e ir a Oraci√≥n al Ni√±o
                                </button>
                            </div>
                        </div>
                    `;
                    break;

                case 'villancicos':
                    html = `
                        <div class="fade-in">
                             <div class="relative h-48 rounded-xl overflow-hidden mb-8 shadow-lg">
                                <img src="${IMAGES.villancicos}" class="w-full h-full object-cover sweet-filter">
                                <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                                    <h2 class="text-3xl font-bold text-white serif">Villancicos Tradicionales</h2>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                ${DATA.villancicos.map(v => `
                                    <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-red-500">
                                        <div class="flex items-center justify-between mb-4">
                                            <h3 class="text-xl font-bold text-gray-800">${v.titulo}</h3>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-2v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-2m-2 2.181v-4.25" /></svg>
                                        </div>
                                        <div class="bg-gray-50 p-4 rounded text-sm text-gray-700 whitespace-pre-line leading-relaxed font-serif">
                                            ${v.letra}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="mt-12 text-center pb-8">
                                <button onclick="renderView('inicio')" class="text-gray-500 hover:text-gray-800 underline">Volver al Inicio</button>
                            </div>
                        </div>
                    `;
                    break;
            }

            contentArea.innerHTML = html;
            contentArea.innerHTML = html;
            window.scrollTo({ top: 0, behavior: 'instant' });
        }

        function toggleSignificado() {
            const el = document.getElementById('gozo-explanation');
            el.classList.toggle('hidden');
        }

        function changeGozo(direction) {
            const total = DATA.gozosData.estrofas.length;
            const newIndex = currentGozoIndex + direction;

            if (newIndex >= 0 && newIndex < total) {
                currentGozoIndex = newIndex;
                updateHash(`#gozo-${currentGozoIndex + 1}`);

                // Animate change
                const card = document.getElementById('gozo-card');
                card.classList.add('opacity-0', 'scale-95');

                setTimeout(() => {
                    const data = DATA.gozosData.estrofas[currentGozoIndex];
                    document.getElementById('gozo-text').innerText = data.texto;
                    document.getElementById('gozo-explanation-text').innerText = data.significado;

                    // Actualizar imagen del gozo
                    const gozoImg = document.getElementById('gozo-img-dynamic');
                    if (gozoImg) {
                        gozoImg.src = data.imagen || DATA.gozosData.imagen;
                    }

                    // Always hide explanation when changing slide
                    document.getElementById('gozo-explanation').classList.add('hidden');

                    document.getElementById('gozo-number').innerText = currentGozoIndex + 1;
                    document.getElementById('gozo-indicator').innerText = `${currentGozoIndex + 1} / ${total}`;

                    card.classList.remove('opacity-0', 'scale-95');
                }, 200);
            } else if (newIndex >= total) {
                // If checking next at the end, suggest moving on
                const confirmNext = confirm("Has terminado los Gozos. ¬øDeseas ir a la Oraci√≥n al Ni√±o Jes√∫s?");
                if (confirmNext) renderView('nino-jesus');
            }
        }

        function createPrayerCard(title, text, bgClass, borderClass, imageUrl) {
            return `
                <div class="fade-in max-w-3xl mx-auto">
                    <div class=" ${bgClass} rounded-xl shadow-lg border ${borderClass} overflow-hidden">
                        ${imageUrl ? `<div class="container-image"><img src="${imageUrl}" class="card-image sweet-filter" alt="${title}"></div>` : ''}
                        
                        <div class="p-8 relative">
                             <!-- Optional watermark if no image, but we have images now -->
                            ${!imageUrl ? `
                            <div class="absolute -top-6 -right-6 opacity-10 text-gray-700 pointer-events-none">
                                <svg class="w-48 h-48" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                            </div>
                            ` : ''}

                            <h2 class="text-2xl md:text-3xl font-bold text-center mb-6 text-gray-800 serif relative z-10">${title}</h2>
                            <div class="prayer-text text-justify relative z-10">
                                ${text}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function createNextButton(text, nextView) {
            return `
                <div class="mt-8 flex justify-center fade-in">
                    <button onclick="renderView('${nextView}')" class="group flex items-center bg-green-700 hover:bg-green-800 text-white px-6 py-3 rounded-full font-semibold transition shadow-md">
                        ${text}
                        <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                    </button>
                </div>
            `;
        }

        function renderDayContent(index) {
            updateHash(`#dia-${index + 1}`);
            const container = document.getElementById('day-content');
            if (!container) return;

            const dayData = DATA.dias[index];

            document.querySelectorAll('.day-btn').forEach((btn, i) => {
                if (i === index) {
                    btn.classList.remove('bg-white', 'text-green-700', 'hover:bg-green-50');
                    btn.classList.add('bg-green-700', 'text-white', 'shadow-lg');

                    // Actualizar estilos del texto de fecha cuando est√° activo
                    const dateDiv = btn.querySelector('.day-date');
                    if (dateDiv) {
                        dateDiv.classList.remove('text-green-600');
                        dateDiv.classList.add('text-white'); // Force white
                    }

                    // Styles for subtitle active
                    const subtitleDiv = btn.querySelector('.day-subtitle');
                    if (subtitleDiv) {
                        subtitleDiv.classList.remove('text-gray-500', 'group-hover:text-green-700');
                        subtitleDiv.classList.add('text-green-200');
                    }

                } else {
                    btn.classList.add('bg-white', 'text-green-700', 'hover:bg-green-50');
                    btn.classList.remove('bg-green-700', 'text-white', 'shadow-lg');

                    // Restaurar estilos del texto de fecha
                    const dateDiv = btn.querySelector('.day-date');
                    if (dateDiv) {
                        dateDiv.classList.remove('text-white');
                        dateDiv.classList.add('text-green-600');
                    }

                    // Restore Styles for subtitle inactive
                    const subtitleDiv = btn.querySelector('.day-subtitle');
                    if (subtitleDiv) {
                        subtitleDiv.classList.add('text-gray-500', 'group-hover:text-green-700');
                        subtitleDiv.classList.remove('text-green-200');
                    }
                }
            });

            container.innerHTML = `
                <div class="fade-in w-full">
                    <div class="flex items-center justify-between border-b border-gray-100 pb-4 mb-4">
                        <div>
                            <span class="text-xs font-bold tracking-wider text-green-600 uppercase">Consideraci√≥n - ${dayData.fecha}</span>
                            <h3 class="text-2xl font-bold text-gray-800 serif">${dayData.titulo}</h3>
                        </div>
                        <span style="width: 30px;" class="text-4xl text-yellow-500 opacity-50 font-serif font-bold">${index + 1}</span>
                    </div>
                    <h4 class="text-lg font-semibold text-gray-600 mb-4">${dayData.subtitulo}</h4>
                    <div class="prayer-text text-justify text-gray-700">
                        ${formatText(dayData.texto)}
                    </div>
                </div>
            `;
        }

        function formatText(raw) {
            if (!raw) return '';

            // 1. Unir l√≠neas cortadas (saltos de l√≠nea simples sin puntuaci√≥n previa)
            // Simplemente reemplazamos todos los saltos de l√≠nea por espacios primero?
            // No, porque perder√≠amos los p√°rrafos reales que se marcan con .\n

            // Reemplazar saltos de l√≠nea que marcan fin de p√°rrafo (.\n) por un marcador temporal
            let formatted = raw.replace(/([.?!])\s*\n/g, '$1###PARAGRAPH###');

            // Reemplazar el resto de saltos de l√≠nea (que son cortes de oraci√≥n) por espacios
            formatted = formatted.replace(/\n/g, ' ');

            // Reemplazar el marcador por cierre y apertura de p√°rrafo
            formatted = formatted.replace(/###PARAGRAPH###/g, '</p><p class="mt-4">');

            // Envolver todo en un p√°rrafo inicial y final
            return `<p>${formatted}</p>`;
        }

        // --- Hash Navigation Logic ---
        function updateHash(hash) {
            if (window.location.hash === hash) return; // Prevent redundant updates

            if (history.pushState) {
                history.pushState(null, null, hash);
            } else {
                location.hash = hash;
            }
        }

        function handleHash() {
            const hash = window.location.hash;
            console.log("Handling Hash:", hash); // Debug

            if (!hash || hash === '') {
                renderView('inicio', true);
                return;
            }

            if (hash === '#inicio') {
                renderView('inicio', true);
            } else if (hash === '#oracion-todos') {
                renderView('todos-dias', true);
            } else if (hash.startsWith('#dia-')) {
                // #dia-1 to #dia-9
                const dayNum = parseInt(hash.replace('#dia-', ''), 10);
                if (!isNaN(dayNum) && dayNum >= 1 && dayNum <= 9) {
                    renderView('consideraciones', true);
                    renderDayContent(dayNum - 1); // 0-indexed
                } else {
                    renderView('consideraciones', true);
                    renderDayContent(0);
                }
            } else if (hash === '#oracion-virgen') {
                renderView('virgen', true);
            } else if (hash === '#oracion-san-jose') {
                renderView('san-jose', true);
            } else if (hash.startsWith('#gozo-')) {
                const gozoNum = parseInt(hash.replace('#gozo-', ''), 10);
                const total = DATA.gozosData.estrofas.length;
                if (!isNaN(gozoNum) && gozoNum >= 1 && gozoNum <= total) {
                    currentGozoIndex = gozoNum - 1;
                    renderView('gozos', true);
                    setTimeout(() => {
                        updateGozoUI();
                    }, 0);
                } else {
                    renderView('gozos', true);
                }
            } else if (hash === '#oracion-nino') {
                renderView('nino-jesus', true);
            } else if (hash === '#villancicos') {
                renderView('villancicos', true);
            } else {
                // Unknown hash, map to inicio
                renderView('inicio', true);
            }
        }

        function updateGozoUI() {
            const data = DATA.gozosData.estrofas[currentGozoIndex];
            document.getElementById('gozo-text').innerText = data.texto;
            document.getElementById('gozo-explanation-text').innerText = data.significado;
            const gozoImg = document.getElementById('gozo-img-dynamic');
            if (gozoImg) gozoImg.src = data.imagen || DATA.gozosData.imagen;
            document.getElementById('gozo-number').innerText = currentGozoIndex + 1;
            document.getElementById('gozo-indicator').innerText = `${currentGozoIndex + 1} / ${DATA.gozosData.estrofas.length}`;
        }

        // Use logic from changeGozo but separated
        // Let's modify changeGozo to use updateGozoUI to avoid code duplication

        // Listen on DOMContentLoaded for faster execution, AND load (as backup/assets)
        window.addEventListener('DOMContentLoaded', handleHash);
        // window.addEventListener('load', handleHash); // Duplicate call might be harmless but let's stick to one primary
        window.addEventListener('hashchange', handleHash);
        // --- Theme Management ---
        function setTheme(theme) {
            document.body.classList.remove('night-mode', 'high-contrast');
            if (theme === 'night') {
                document.body.classList.add('night-mode');
            } else if (theme === 'high-contrast') {
                document.body.classList.add('high-contrast');
            }
            localStorage.setItem('theme', theme);
        }

        // Initialize Theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            setTheme(savedTheme);
        }
    </script>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyD6xIyfTmIlDz-_nwFw_uAkitQuTsvsKSk",
        authDomain: "novena-col.firebaseapp.com",
        projectId: "novena-col",
        storageBucket: "novena-col.firebasestorage.app",
        messagingSenderId: "444775714094",
        appId: "1:444775714094:web:d201d04cf29d072a5ffebf",
        measurementId: "G-LWRXMJN98Q"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
</script>

</html>